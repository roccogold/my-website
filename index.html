<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover" />
<title>Rocco Goldschmidt — Product Manager</title>
<meta name="description" content="Rocco Goldschmidt — Product Manager blending design, technology & finance to build simple, impactful solutions. Explore my projects and get in touch." />
<meta name="robots" content="index, follow" />

<!-- Enhanced Security Headers -->
<meta http-equiv="Content-Security-Policy" 
      content="default-src 'self'; 
               script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://cdn.emailjs.com https://api.github.com https://unpkg.com https://cdn.jsdelivr.net;
               style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com;
               font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com;
               img-src 'self' data: https:;
               frame-src 'self' https://open.spotify.com;
               connect-src 'self' https://api.github.com https://api.emailjs.com https://region1.google-analytics.com;">

<!-- PWA Manifest -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#111111">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="msapplication-navbutton-color" content="#111111">
<meta name="msapplication-TileColor" content="#111111">

<!-- Favicon and touch icons - Enhanced for Google Search -->
<link rel="icon" type="image/x-icon" href="assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="assets/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="48x48" href="assets/favicon-48x48.png">
<link rel="icon" type="image/png" sizes="192x192" href="assets/android-chrome-192x192.png">
<link rel="icon" type="image/png" sizes="512x512" href="assets/android-chrome-512x512.png">
<link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
<link rel="shortcut icon" href="assets/favicon.ico">

<!-- Performance optimizations -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="https://api.github.com">
<link rel="dns-prefetch" href="https://api.emailjs.com">
<link rel="preload" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" as="style">

<!-- Fonts and icons with SRI -->
<link rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" />

<!-- Open Graph -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://roccogold.com/" />
<meta property="og:title" content="Rocco Goldschmidt" />
<meta property="og:description" content="Product Manager focused on building projects at the intersection of design, tech, and finance." />
<meta property="og:image" content="https://roccogold.com/og-color.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Rocco Goldschmidt" />
<meta name="twitter:description" content="Product Manager focused on building projects at the intersection of design, tech, and finance." />
<meta name="twitter:image" content="https://roccogold.com/og-color.png" />
<meta name="twitter:url" content="https://roccogold.com/" />

<!-- Structured Data for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Person",
  "name": "Rocco Goldschmidt",
  "jobTitle": "Product Manager",
  "url": "https://roccogold.com",
  "description": "Product Manager blending design, technology & finance to build simple, impactful solutions",
  "sameAs": [
    "https://www.linkedin.com/in/roccogoldschmidt/",
    "https://github.com/roccogold",
    "https://x.com/roccogold_"
  ],
  "worksFor": {
    "@type": "Organization",
    "name": "Moody's Analytics"
  }
}
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VKN0MXTZ4Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-VKN0MXTZ4Q');
</script>

<style>
:root {
  /* Dark theme colors */
  --accent-dark: #9a77c6;
  --accent-dark-hover: #b18cd9;
  --bg-dark: #111;
  --text-dark: #e5e5e5;
  
  /* Light theme colors */
  --bg-light: #ffffff;
  --text-light: #1a1a1a;
  --accent-light: #6b46c1;
  --accent-light-hover: #7c3aed;
  
/* Typography Scale */
--font-xs: clamp(0.75rem, 1.7vw, 0.8rem);   /* Slightly smaller than original */
--font-sm: clamp(0.8rem, 2.1vw, 0.9rem);    /* Minimal reduction */
--font-md: clamp(0.9rem, 2.5vw, 1rem);      /* Keep the same */
--font-lg: clamp(1.05rem, 3.3vw, 1.25rem);  /* Slight reduction */
--font-xl: clamp(1.4rem, 4.7vw, 1.9rem);    /* Moderate reduction */
  
  /* Spacing */
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 2rem;
  --space-xl: 3rem;
  
  --main-font: 'JetBrains Mono', 'Courier New', monospace;
  --transition-fast: 0.15s ease;
  --transition-normal: 0.3s ease;
  --transition-slow: 0.6s ease;
}

/* Gradient background system */
.gradient-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
  overflow: hidden;
}

.gradient-sphere {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  transition: all 0.3s ease;
}

.sphere-1 {
  width: 40vw;
  height: 40vw;
  background: linear-gradient(40deg, rgba(154, 119, 198, 0.6), rgba(154, 119, 198, 0.2));
  top: -10%;
  left: -10%;
  animation: float-1 15s ease-in-out infinite alternate;
}

.sphere-2 {
  width: 45vw;
  height: 45vw;
  background: linear-gradient(240deg, rgba(154, 119, 198, 0.5), rgba(181, 140, 217, 0.3));
  bottom: -20%;
  right: -10%;
  animation: float-2 18s ease-in-out infinite alternate;
}

.sphere-3 {
  width: 30vw;
  height: 30vw;
  background: linear-gradient(120deg, rgba(154, 119, 198, 0.4), rgba(181, 140, 217, 0.2));
  top: 60%;
  left: 20%;
  animation: float-3 20s ease-in-out infinite alternate;
}

body.light-theme .sphere-1 {
  background: linear-gradient(40deg, rgba(107, 70, 193, 0.3), rgba(107, 70, 193, 0.1));
}

body.light-theme .sphere-2 {
  background: linear-gradient(240deg, rgba(107, 70, 193, 0.25), rgba(124, 58, 237, 0.15));
}

body.light-theme .sphere-3 {
  background: linear-gradient(120deg, rgba(107, 70, 193, 0.2), rgba(124, 58, 237, 0.1));
}

@keyframes float-1 {
  0% { transform: translate(0, 0) scale(1); }
  100% { transform: translate(10%, 10%) scale(1.1); }
}

@keyframes float-2 {
  0% { transform: translate(0, 0) scale(1); }
  100% { transform: translate(-10%, -5%) scale(1.15); }
}

@keyframes float-3 {
  0% { transform: translate(0, 0) scale(1); opacity: 0.3; }
  100% { transform: translate(-5%, 10%) scale(1.05); opacity: 0.6; }
}

.glow {
  position: absolute;
  width: 40vw;
  height: 40vh;
  background: radial-gradient(circle, rgba(154, 119, 198, 0.15), transparent 70%);
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
  animation: pulse 8s infinite alternate;
  filter: blur(40px);
}

body.light-theme .glow {
  background: radial-gradient(circle, rgba(107, 70, 193, 0.08), transparent 70%);
}

@keyframes pulse {
  0% { opacity: 0.3; transform: translate(-50%, -50%) scale(0.9); }
  100% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.1); }
}

.grid-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: 60px 60px;
  background-image: 
    linear-gradient(to right, rgba(154, 119, 198, 0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(154, 119, 198, 0.05) 1px, transparent 1px);
  z-index: 2;
}

body.light-theme .grid-overlay {
  background-image: 
    linear-gradient(to right, rgba(107, 70, 193, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(107, 70, 193, 0.03) 1px, transparent 1px);
}

.noise-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0.03;
  z-index: 3;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

body.light-theme .noise-overlay {
  opacity: 0.02;
}

.particles-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 4;
  pointer-events: none;
}

.particle {
  position: absolute;
  background: var(--accent-dark);
  border-radius: 50%;
  opacity: 0;
  pointer-events: none;
  box-shadow: 0 0 6px var(--accent-dark);
}

body.light-theme .particle {
  background: var(--accent-light);
  box-shadow: 0 0 6px var(--accent-light);
}

@media (prefers-reduced-motion: reduce) {
  .gradient-sphere, .glow {
    animation: none !important;
  }
}

/* Enhanced Accessibility - Respect user preferences */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Remove all social icon animations */
.social a {
  animation: none !important;
}

@media (prefers-contrast: high) {
  :root {
    --accent-dark: #c499ff;
  }
}

/* Theme transitions */
* {
  transition: background-color var(--transition-normal), color var(--transition-normal), border-color var(--transition-normal);
}

/* Base styles */
html {
  height: 100%;
  overflow-x: hidden;
  max-width: 100vw;
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
  scroll-behavior: smooth;
}

body {
  background: var(--bg-dark);
  color: var(--text-dark);
  font-family: var(--main-font);
  margin: 0;
  padding: 0;
  padding-env: safe-area-inset-top env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  font-size: var(--font-sm);
  position: relative;
  transition: background var(--transition-fast), color var(--transition-fast);
  cursor: none;
  line-height: 1.5;
  min-height: 100vh;
  min-height: 100dvh;
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/* Better mobile viewport handling */
@supports (height: 100dvh) {
  body {
    min-height: 100dvh;
  }
}

/* Prevent zoom on input focus on iOS */
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  select, textarea, input[type="text"], input[type="password"], 
  input[type="datetime"], input[type="datetime-local"], 
  input[type="date"], input[type="month"], input[type="time"], 
  input[type="week"], input[type="number"], input[type="email"], 
  input[type="url"] {
    font-size: 16px;
  }
}

/* Light theme - force immediate application for mobile */
body.light-theme {
  background: var(--bg-light) !important;
  color: var(--text-light) !important;
}

/* Enhanced focus management */
body:focus-within {
  scroll-behavior: smooth;
}

/* Mobile cursor handling */
@media (hover: none), (pointer: coarse) {
  body {
    cursor: auto;
  }
}

/* Theme toggle button */
.theme-toggle {
  position: fixed;
  top: 2rem;
  right: 2rem;
  width: 45px;
  height: 45px;
  border: 2px solid var(--accent-dark);
  border-radius: 50%;
  background: transparent;
  color: var(--accent-dark);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  transition: all var(--transition-normal);
  z-index: 1000;
}

.theme-toggle:hover {
  background: var(--accent-dark);
  color: var(--bg-dark);
  transform: rotate(180deg);
}

body.light-theme .theme-toggle {
  border-color: var(--accent-light);
  color: var(--accent-light);
}

body.light-theme .theme-toggle:hover {
  background: var(--accent-light);
  color: var(--bg-light);
}

/* Scroll progress bar */
.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  width: 0%;
  height: 3px;
  background: linear-gradient(90deg, var(--accent-dark), var(--accent-dark-hover));
  z-index: 1000;
  transition: width 0.3s ease;
}

body.light-theme .scroll-progress {
  background: linear-gradient(90deg, var(--accent-light), var(--accent-light-hover));
}

/* Back to top button */
.back-to-top {
  position: fixed;
  bottom: 2rem;
  right: 2rem;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--accent-dark);
  color: white;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  opacity: 0;
  visibility: hidden;
  transform: translateY(20px);
  transition: all var(--transition-normal);
  z-index: 1000;
}

.back-to-top.visible {
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
}

.back-to-top:hover {
  background: var(--accent-dark-hover);
  transform: translateY(-3px);
}

body.light-theme .back-to-top {
  background: var(--accent-light);
}

body.light-theme .back-to-top:hover {
  background: var(--accent-light-hover);
}

/* Container Queries Support */
.top-bar {
  position: relative;
  max-width: 650px;
  margin: 1rem auto 2rem;
  padding: 0 2rem;
  text-align: center;
  container-type: inline-size;
}

@container (max-width: 480px) {
  .top-bar {
    flex-direction: column;
    align-items: center;
  }
  .top-bar header p {
    margin-top: 0.8rem;
  }
}

.top-bar header {
  margin: 0 auto;
  width: 100%;
  text-align: center;
}

.top-bar header h1 {
  margin: 0;
  font-size: var(--font-xl);
  font-weight: 950; /* Made bolder - was 700 */
  color: var(--accent-dark);
}

body.light-theme .top-bar header h1 {
  color: var(--accent-light);
}

.top-bar header p {
  font-size: var(--font-sm); /* Changed from var(--font-xs) to match body text */
  margin-top: 0.4rem;
  opacity: 0.9;
  font-family: var(--main-font); /* Ensure it uses the same font as body text */
}

/* Typing effect */
.typing-effect {
  overflow: hidden;
  border-right: 2px solid var(--accent-dark);
  white-space: nowrap;
  animation: typing 3s steps(40, end), blink-caret 0.75s step-end infinite;
}

body.light-theme .typing-effect {
  border-right-color: var(--accent-light);
}

@keyframes typing {
  from { width: 0; }
  to { width: 100%; }
}

@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: currentColor; }
}

/* Links */
a {
  cursor: pointer;
  color: var(--accent-dark);
  text-decoration: underline;
  text-decoration-color: var(--accent-dark);
  font-weight: bold;
  transition: color var(--transition-fast);
  font-size: inherit;
}

a:hover,
a:focus-visible {
  color: var(--accent-dark-hover);
  text-decoration-color: var(--accent-dark-hover);
  outline: 2px solid var(--accent-dark);
  outline-offset: 2px;
  border-radius: 2px;
}

body.light-theme a {
  color: var(--accent-light);
  text-decoration-color: var(--accent-light);
}

body.light-theme a:hover,
body.light-theme a:focus-visible {
  color: var(--accent-light-hover);
  text-decoration-color: var(--accent-light-hover);
  outline-color: var(--accent-light);
}

/* Enhanced header with better hierarchy */
header {
  text-align: center;
  margin-bottom: var(--space-md);
}

header h1 {
  margin: 0;
  font-size: var(--font-xl);
  font-weight: 950; /* Made bolder - was 700 */
  display: inline-block;
  position: relative;
  color: var(--accent-dark);
}

body.light-theme header h1 {
  color: var(--accent-light);
}

@media (max-width: 480px) {
  header {
    padding-top: 3.5rem;
  }
}

header p {
  margin-top: var(--space-sm);
  font-size: var(--font-sm); /* Changed from var(--font-xs) to match body text */
  opacity: 0.9;
  font-family: var(--main-font); /* Ensure it uses the same font as body text */
}

/* Enhanced main content with container queries */
main {
  max-width: 650px;
  margin: auto;
  padding: var(--space-md) var(--space-lg) var(--space-xl);
  line-height: 1.6;
  position: relative;
  z-index: 1;
  font-size: var(--font-sm);
  container-type: inline-size;
}

@container (max-width: 480px) {
  main {
    padding: var(--space-md) var(--space-md) var(--space-xl);
  }
}

/* Enhanced typography */
h2 {
  font-weight: 900;
  font-size: clamp(1.0rem, 3.0vw, 1.15rem);
  border-bottom: 1px solid rgba(255,255,255,0.2);
  padding-bottom: var(--space-xs);
  margin-top: var(--space-xl);
  margin-bottom: var(--space-md);
}

body.light-theme h2 {
  border-bottom-color: rgba(0,0,0,0.2);
}

/* Enhanced list styling */
ul {
  padding-left: 0;
  margin-left: 0;
  list-style: none;
}

ul li {
  position: relative;
  padding-left: 1.8rem;
  margin-bottom: 0.7rem;
  font-weight: 500;
  font-size: var(--font-sm);
  line-height: 1.6;
}

ul li::before {
  content: "•";
  position: absolute;
  left: 0;
  top: 0;
  color: var(--accent-dark);
  font-weight: 900;
  font-size: 20px;
  line-height: 1.6;
}

body.light-theme ul li::before {
  color: var(--accent-light);
}

/* Nested sub-list styling */
ul ul {
  margin-top: 0.5rem;
  margin-left: 0;
  padding-left: 0;
}

ul ul li {
  padding-left: 1.5rem;
  margin-bottom: 0.5rem;
  font-size: var(--font-sm);
}

ul ul li::before {
  content: "◦";
  font-size: 18px;
  color: var(--accent-dark);
  opacity: 0.8;
  left: 0.3rem;
}

body.light-theme ul ul li::before {
  color: var(--accent-light);
}

/* Enhanced social icons with container queries */
.social {
  display: flex;
  justify-content: center;
  gap: 1.5rem;
  margin-top: 1.5rem;
  position: relative;
  z-index: 1;
  container-type: inline-size;
}

@container (max-width: 300px) {
  .social {
    flex-direction: column;
    align-items: center;
    gap: var(--space-md);
  }
}

@container (min-width: 500px) {
  .social a {
    width: 55px;
    height: 55px;
    font-size: 28px;
  }
}

.social a {
  width: 45px;
  height: 45px;
  font-size: 24px;
  fill: currentColor;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  color: var(--accent-dark);
  border-radius: 6px;
  border: none;
  background: transparent;
  transition: filter var(--transition-normal), transform var(--transition-normal), color var(--transition-normal);
}

body.light-theme .social a {
  color: var(--accent-light);
}

.social a:hover,
.social a:focus-visible {
  filter: drop-shadow(0 0 6px currentColor);
  transform: scale(1.1);
  color: var(--accent-dark-hover);
  cursor: pointer;
  outline: 2px solid var(--accent-dark);
  outline-offset: 2px;
}

body.light-theme .social a:hover,
body.light-theme .social a:focus-visible {
  color: var(--accent-light-hover);
  outline-color: var(--accent-light);
}

/* Floating animation removed per user request */
@media (prefers-reduced-motion: reduce) {
  .social a {
    animation: none;
  }
}

/* Enhanced content descriptions */
p.work-desc,
p.contact-desc {
  text-align: left;
  max-width: 100%;
  margin: 0 0 var(--space-md) 0;
  font-style: normal;
  font-size: var(--font-sm);
  font-weight: 500;
  opacity: 0.9;
}

/* Spotify embed styling */
.spotify-container {
  max-width: 100%;
  margin: var(--space-md) 0;
  background: var(--bg-dark);
  padding: 0px;
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: transform var(--transition-normal), box-shadow var(--transition-normal), border-color var(--transition-normal);
}

.spotify-container:hover {
  transform: translateY(-2px);
}

body.light-theme .spotify-container {
  background: var(--bg-light);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

body.light-theme .spotify-container:hover {
}

.spotify-container iframe {
  display: block;
  width: 100%;
  height: 152px;
  border: none;
  border-radius: 10px;
}

/* Enhanced contact form */
#contactForm {
  max-width: 400px;
  margin: var(--space-md) auto;
}

#contactForm label {
  display: block;
  margin-bottom: var(--space-xs);
  font-weight: 600;
  font-size: var(--font-sm);
}

#contactForm input,
#contactForm textarea {
  width: 100%;
  padding: var(--space-sm);
  margin-bottom: var(--space-sm);
  border: 1px solid rgba(255,255,255,0.3);
  border-radius: 4px;
  font-size: var(--font-sm);
  font-family: var(--main-font);
  background-color: rgba(255,255,255,0.05);
  color: inherit;
  transition: border-color var(--transition-normal), background-color var(--transition-normal);
  box-sizing: border-box;
}

body.light-theme #contactForm input,
body.light-theme #contactForm textarea {
  border-color: rgba(0,0,0,0.3);
  background-color: rgba(0,0,0,0.05);
}

#contactForm input:focus,
#contactForm textarea:focus {
  border-color: var(--accent-dark);
  outline: none;
  background-color: rgba(255,255,255,0.1);
}

body.light-theme #contactForm input:focus,
body.light-theme #contactForm textarea:focus {
  border-color: var(--accent-light);
  background-color: rgba(0,0,0,0.1);
}

#contactForm button {
  padding: var(--space-sm) var(--space-md);
  cursor: pointer;
  border: none;
  background: var(--accent-dark);
  color: white;
  border-radius: 4px;
  font-size: var(--font-sm);
  font-family: var(--main-font);
  transition: background-color var(--transition-normal), transform var(--transition-fast);
  font-weight: 600;
}

#contactForm button:hover,
#contactForm button:focus {
  background: var(--accent-dark-hover);
  transform: translateY(-1px);
  outline: 2px solid var(--accent-dark);
  outline-offset: 2px;
}

body.light-theme #contactForm button {
  background: var(--accent-light);
}

body.light-theme #contactForm button:hover,
body.light-theme #contactForm button:focus {
  background: var(--accent-light-hover);
  outline-color: var(--accent-light);
}

#formStatus {
  margin-top: var(--space-sm);
  font-size: var(--font-xs);
  font-weight: 500;
  opacity: 0.8;
}

/* Enhanced footer */
footer {
  text-align: center;
  padding: var(--space-md);
  color: rgba(255,255,255,0.6);
  font-size: var(--font-xs);
  position: relative;
  z-index: 1;
}

body.light-theme footer {
  color: rgba(0,0,0,0.6);
}

/* Enhanced selection styling */
::selection {
  background: var(--accent-dark);
  color: white;
}

body.light-theme ::selection {
  background: var(--accent-light);
  color: white;
}

/* Custom cursor for dark mode - disabled on mobile */
.dot-cursor,
.trailing-dot {
  position: fixed;
  top: 0;
  left: 0;
  border-radius: 50%;
  pointer-events: none;
  transform: translate(-50%, -50%);
  z-index: 10000;
  transition: background-color var(--transition-normal);
}

.dot-cursor {
  width: 8px;
  height: 8px;
  background: var(--accent-dark);
}

.trailing-dot {
  width: 12px;
  height: 12px;
  background: var(--accent-dark);
  opacity: 0.7;
  z-index: 9999;
}

body.light-theme .dot-cursor {
  background: var(--accent-dark);
}

body.light-theme .trailing-dot {
  background: var(--accent-dark);
}

/* Hide custom cursor on mobile and touch devices */
@media (hover: none), (pointer: coarse) {
  .dot-cursor,
  .trailing-dot {
    display: none;
  }
  
  body {
    cursor: auto !important;
  }
}

/* Enhanced animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes revealUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.reveal {
  opacity: 0;
  transform: translateY(20px);
  transition: opacity var(--transition-slow), transform var(--transition-slow);
}

.reveal.visible {
  opacity: 1;
  transform: translateY(0);
  animation: revealUp var(--transition-slow) ease forwards;
}

/* Enhanced code styling */
code, pre {
  font-family: var(--main-font);
  font-size: 1em;
  background-color: rgba(255,255,255,0.1);
  color: inherit;
  padding: 0.2em 0.4em;
  border-radius: 4px;
  white-space: pre-wrap;
}

body.light-theme code,
body.light-theme pre {
  background-color: rgba(0,0,0,0.1);
}

/* Mobile adjustments */
@media (max-width: 768px) {
  .theme-toggle {
    display: none; /* Hide theme toggle on mobile */
  }
  
   main {
    padding: var(--space-sm) var(--space-md) var(--space-lg);
  }
  
  .top-bar {
    margin: 0.5rem auto 1rem;
    padding: 0 1rem;
  }
  
  h2 {
    margin-top: var(--space-lg);
    margin-bottom: var(--space-sm);
  }
  
  .minimal-tags {
    gap: 0.4rem;
    margin: 0.5rem 0;
  }
  
.minimal-tag {
  padding: 0.25rem 0.5rem;
  font-size: 0.7rem;
}
  
  .spotify-container {
    margin: var(--space-sm) 0;
  }
  
  #contactForm {
    margin: var(--space-sm) auto;
  }
  
  .back-to-top {
    bottom: 1rem;
    right: 1rem;
    width: 38px;
    height: 38px;
    font-size: 14px;
  }

  .social {
    gap: 1rem;
  }

  .social a {
    width: 38px;
    height: 38px;
    font-size: 18px;
  }
}

/* Screen reader only styles */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.error-message {
  display: none;
  color: #ff6b6b;
  font-size: var(--font-xs);
  margin-top: var(--space-xs);
  margin-bottom: var(--space-sm);
}

.form-status.success {
  color: #51cf66;
}

.form-status.error {
  color: #ff6b6b;
}

.form-status.loading {
  color: var(--accent-dark);
}

body.light-theme .form-status.loading {
  color: var(--accent-light);
}

/* Header bounce effect */
header h1:hover {
  animation: glowPulse 2s ease-in-out infinite;
  text-shadow: 0 0 8px currentColor;
  cursor: pointer;
}

@keyframes glowPulse {
  0%, 100% { 
    text-shadow: 0 0 8px currentColor; 
  }
  50% { 
    text-shadow: 0 0 20px currentColor, 0 0 30px currentColor; 
  }
}

/* Link surprise effects */
a:hover {
  animation: linkPulse 0.3s ease;
}

@keyframes linkPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

.minimal-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  margin: 1rem 0;
  justify-content: center;
  line-height: 1.4;
}

.minimal-tag {
  background: rgba(154, 119, 198, 0.15);
  border: 1px solid rgba(154, 119, 198, 0.3);
  color: var(--text-dark);
  padding: 0.3rem 0.6rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  font-family: var(--main-font);
  cursor: default;
  white-space: nowrap;
  transition: all 0.2s ease;
  opacity: 0;
  transform: translateY(10px);
  animation: slideInUp 0.5s ease forwards;
}

.minimal-tag:hover {
  background: rgba(154, 119, 198, 0.25);
  transform: translateY(-1px);
}

/* Light theme */
body.light-theme .minimal-tag {
  background: rgba(107, 70, 193, 0.15);
  border-color: rgba(107, 70, 193, 0.3);
  color: var(--text-light);
}

body.light-theme .minimal-tag:hover {
  background: rgba(107, 70, 193, 0.25);
}

/* Keep your existing animation delays */
.minimal-tag:nth-child(1) { animation-delay: 0.1s; }
.minimal-tag:nth-child(2) { animation-delay: 0.2s; }
.minimal-tag:nth-child(3) { animation-delay: 0.3s; }
.minimal-tag:nth-child(4) { animation-delay: 0.4s; }
.minimal-tag:nth-child(5) { animation-delay: 0.5s; }
.minimal-tag:nth-child(6) { animation-delay: 0.6s; }
.minimal-tag:nth-child(7) { animation-delay: 0.7s; }
.minimal-tag:nth-child(8) { animation-delay: 0.8s; }
.minimal-tag:nth-child(9) { animation-delay: 0.9s; }
.minimal-tag:nth-child(10) { animation-delay: 1.0s; }
.minimal-tag:nth-child(11) { animation-delay: 1.1s; }

@keyframes slideInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.minimal-tag:hover {
  background: rgba(154, 119, 198, 0.4);
  transform: scale(1.05);
}

body.light-theme .minimal-tag {
  background: rgba(107, 70, 193, 0.2);
}

body.light-theme .minimal-tag:hover {
  background: rgba(107, 70, 193, 0.4);
}



.project-title {
  color: var(--accent-dark);
  font-weight: 700;
  font-size: var(--font-lg);
  margin: 0 0 var(--space-sm) 0;
}

body.light-theme .project-title {
  color: var(--accent-light);
}

.project-brief {
  margin: 0 0 var(--space-md) 0;
  opacity: 0.9;
  font-size: var(--font-sm);
  line-height: 1.6;
}

.tech-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin: var(--space-sm) 0 var(--space-md) 0;
}

.tech-tag {
  background: rgba(154, 119, 198, 0.2);
  color: var(--text-dark);
  padding: 0.3rem 0.6rem;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  opacity: 0.9;
  transition: all 0.2s ease;
}

.tech-tag:hover {
  background: rgba(154, 119, 198, 0.3);
  transform: translateY(-1px);
}

body.light-theme .tech-tag {
  background: rgba(107, 70, 193, 0.2);
  color: var(--text-light);
}

body.light-theme .tech-tag:hover {
  background: rgba(107, 70, 193, 0.3);
}

* Minimal Card */
.minimal-card {
  background: linear-gradient(135deg, rgba(154, 119, 198, 0.1), rgba(181, 140, 217, 0.05));
  border: 1px solid rgba(154, 119, 198, 0.2);
  border-radius: 8px;
  padding: var(--space-md);
  transition: all var(--transition-normal);
  cursor: pointer;
}

.minimal-card:hover {
  background: linear-gradient(135deg, rgba(154, 119, 198, 0.2), rgba(181, 140, 217, 0.1));
  border-color: var(--accent-dark);
  transform: translateY(-2px);
}

body.light-theme .minimal-card {
  background: linear-gradient(135deg, rgba(107, 70, 193, 0.1), rgba(124, 58, 237, 0.05));
  border-color: rgba(107, 70, 193, 0.2);
}

body.light-theme .minimal-card:hover {
  background: linear-gradient(135deg, rgba(107, 70, 193, 0.2), rgba(124, 58, 237, 0.1));
  border-color: var(--accent-light);
}

.minimal-card-title {
  color: var(--accent-dark);
  font-weight: 700;
  font-size: var(--font-md);
  margin: 0 0 var(--space-sm) 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

body.light-theme .minimal-card-title {
  color: var(--accent-light);
}

.title-links {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.title-links a {
  color: var(--accent-dark);
  text-decoration: none;
  font-size: 18px;
  transition: filter var(--transition-normal), transform var(--transition-normal), color var(--transition-normal);
}

.title-links a:hover,
.title-links a:focus-visible {
  filter: drop-shadow(0 0 6px currentColor);
  transform: scale(1.1);
  color: var(--accent-dark-hover);
  outline: 2px solid var(--accent-dark);
  outline-offset: 2px;
}

body.light-theme .title-links a {
  color: var(--accent-light);
}

body.light-theme .title-links a:hover,
body.light-theme .title-links a:focus-visible {
  color: var(--accent-light-hover);
  outline-color: var(--accent-light);
}

.minimal-card-description {
  margin: 0;
  font-size: var(--font-sm);
  opacity: 0.9;
}

/* Compact Glassmorphism Thesis Card */
.thesis-card {
  background: rgba(154, 119, 198, 0.1);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 10px;
  padding: var(--space-sm) var(--space-md);
  margin: var(--space-sm) 0;
  position: relative;
  overflow: hidden;
  transition: all var(--transition-normal);
  text-align: center;
}

.thesis-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(45deg, rgba(154, 119, 198, 0.05), rgba(181, 140, 217, 0.05));
  z-index: -1;
  transition: all var(--transition-normal);
}

.thesis-card:hover {
  background: rgba(154, 119, 198, 0.15);
  transform: scale(1.01);
  box-shadow: 0 10px 25px rgba(154, 119, 198, 0.1);
}

.thesis-card:hover::before {
  background: linear-gradient(45deg, rgba(154, 119, 198, 0.08), rgba(181, 140, 217, 0.08));
}

/* Light theme support */
body.light-theme .thesis-card {
  background: rgba(107, 70, 193, 0.1);
  border-color: rgba(0, 0, 0, 0.1);
}

body.light-theme .thesis-card::before {
  background: linear-gradient(45deg, rgba(107, 70, 193, 0.05), rgba(124, 58, 237, 0.05));
}

body.light-theme .thesis-card:hover {
  background: rgba(107, 70, 193, 0.15);
  box-shadow: 0 10px 25px rgba(107, 70, 193, 0.1);
}

body.light-theme .thesis-card:hover::before {
  background: linear-gradient(45deg, rgba(107, 70, 193, 0.08), rgba(124, 58, 237, 0.08));
}

.thesis-card-title {
  font-weight: 500;
  font-size: var(--font-sm);
  margin: 0 0 var(--space-sm) 0;
  color: inherit;
}

.thesis-card-description {
  margin: 0 0 var(--space-md) 0;
  font-size: var(--font-sm);
  opacity: 0.9;
  line-height: 1.6;
}

.thesis-closing-text {
  margin-top: var(--space-md);
}

.thesis-closing-text p {
  margin: 0;
  font-size: var(--font-sm);
  opacity: 0.8;
  font-style: italic;
}

@media (max-width: 768px) {
  .thesis-card {
    padding: var(--space-sm);
    border-radius: 8px;
  }
  
  .thesis-card:hover {
    transform: scale(1.005);
  }
}

</style>
</head>

<body>
<!-- Animated background system -->
<div class="gradient-background">
  <div class="gradient-sphere sphere-1"></div>
  <div class="gradient-sphere sphere-2"></div>
  <div class="gradient-sphere sphere-3"></div>
  <div class="glow"></div>
  <div class="grid-overlay"></div>
  <div class="noise-overlay"></div>
  <div class="particles-container" id="particles-container"></div>
</div>
      
<!-- Theme toggle button -->
<button class="theme-toggle" aria-label="Toggle theme">
  <i class="fas fa-lightbulb"></i>
</button>

<!-- Scroll progress bar -->
<div class="scroll-progress"></div>

<!-- Back to top button -->
<button class="back-to-top" aria-label="Back to top">
  <i class="fas fa-arrow-up"></i>
</button>

<!-- ================= HEADER ================= -->
<div id="topBar" class="top-bar">
  <header class="reveal">
    <h1>Ciao, I'm Rocco Goldschmidt</h1>
    <p class="typing-effect">[Product Manager — from idea to impact]</p>
  </header>
</div>

<!-- ================= MAIN CONTENT ================= -->
<main id="main-content" role="main" aria-label="Portfolio content">
  <p class="work-desc reveal">I work where design, tech and finance meet — turning complicated challenges into smooth solutions.</p>

  <section aria-labelledby="music-heading" class="reveal">
  <h2 id="music-heading">Vibes</h2>
<div class="spotify-container">
  <iframe data-testid="embed-iframe" 
          style="border-radius:12px" 
          src="https://open.spotify.com/embed/track/2AP7m2dBb8ULTx4Gc1rdMc?utm_source=generator&theme=0" 
          width="100%" 
          height="152" 
          frameBorder="0" 
          allowfullscreen="" 
          allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" 
          loading="lazy"
          title="Spotify player">
  </iframe>
</div>
</section>   
      
  <section aria-labelledby="work-heading" class="reveal">
    <h2 id="work-heading">Experience</h2>
    <ul>
      <li><u><a href="https://www.moodys.com/web/en/us/solutions/compliance-third-party-risk/maxsight.html" target="_blank" rel="noopener noreferrer">[Moody's Analytics]</a></u>: currently building APIs that make onboarding so easy, even your grandpa could integrate them.</li>
      <li><u><a href="https://www.bitpanda.com/en" target="_blank" rel="noopener noreferrer">[Bitpanda]</a></u>: worked on the backend of the broker app to streamline operations, compliance and support processes for smoother trading days.</li>
    </ul>
  </section>

<section aria-labelledby="thesis-heading" class="reveal">
  <h2 id="thesis-heading">Thesis Project</h2>
  <div class="thesis-card">
    <div class="thesis-card-title">
      <u><a href="https://github.com/roccogold/insurtrain" target="_blank" rel="noopener noreferrer">[insurtrain]</a></u>: blockchain-powered insurance automation for train delays using smart contracts and real-time data. Curious? See the full thesis <u><a href="https://drive.google.com/file/d/1Y17kg6e8B-GHol5b1ggEjnOPHZWaem6P/view?usp=drive_link" target="_blank" rel="noopener noreferrer">here</a></u>.
    </div>
  </div>
</section>

<section aria-labelledby="skills-heading" class="reveal">
  <h2 id="skills-heading">Interests</h2>
  <div class="minimal-tags">
    <span class="minimal-tag">Product Management</span>
    <span class="minimal-tag">APIs</span>
    <span class="minimal-tag">Ping Pong</span>
    <span class="minimal-tag">Fly Fishing</span>
    <span class="minimal-tag">Photography</span>
    <span class="minimal-tag">Process Automation</span>
    <span class="minimal-tag">Hiking</span>
    <span class="minimal-tag">Blockchain</span>
    <span class="minimal-tag">Compliance (KYB/AML)</span>
    <span class="minimal-tag">Innovation</span>
  </div>
</section>
  
  <section aria-labelledby="contact-heading" class="reveal">
    <h2 id="contact-heading">Contact</h2>
    <p class="contact-desc">
      Want the juicy bits? Download my resume <a href="https://drive.google.com/file/d/11c8tkDc5AH3pCAEgM44WR4d9w4cxoMR5/view" 
      target="_blank" rel="noopener noreferrer" id="resumeDownload"><u>here</u></a>.
    </p>
    <p class="contact-desc">
      Exploring APIs and finding fresh ways to make fintech exciting. Have a challenge? Let’s tackle it together. Connect with me to talk product ideas, fintech trends, or even the perfect ping pong serve.
    </p>
    
    <nav class="social" aria-label="Social and contact links" role="navigation">
      <a href="mailto:roccogold23@gmail.com" aria-label="Email Rocco Goldschmidt" target="_blank" rel="noopener noreferrer">
        <i class="fas fa-envelope" aria-hidden="true"></i>
      </a>
      <a href="https://www.linkedin.com/in/roccogoldschmidt/" aria-label="LinkedIn profile" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
      <a href="https://github.com/roccogold" aria-label="GitHub profile" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-github" aria-hidden="true"></i>
      </a>
      <a href="https://x.com/roccogold_" aria-label="Twitter profile" target="_blank" rel="noopener noreferrer">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
    </nav>
    
    <!-- Enhanced Contact Form -->
    <form id="contactForm" aria-label="Contact form to send a message" novalidate>
      <label for="name">Name</label>
      <input type="text" 
             id="name" 
             name="name" 
             required 
             placeholder="Your name"
             aria-describedby="name-error"
             autocomplete="name" />
      <div id="name-error" class="error-message" role="alert" aria-live="polite"></div>
      
      <label for="email">Email</label>
      <input type="email" 
             id="email" 
             name="email" 
             required 
             placeholder="Your email"
             aria-describedby="email-error"
             autocomplete="email" />
      <div id="email-error" class="error-message" role="alert" aria-live="polite"></div>
      
      <label for="message">Message</label>
      <textarea id="message" 
                name="message" 
                rows="4" 
                required 
                placeholder="Your message"
                aria-describedby="message-error"></textarea>
      <div id="message-error" class="error-message" role="alert" aria-live="polite"></div>
      
      <button type="submit" aria-describedby="formStatus">Send</button>
      <p id="formStatus" aria-live="polite" role="status"></p>
    </form>
  </section>
</main>

<!-- ================= FOOTER ================= -->
<footer role="contentinfo">
  <span id="lastUpdated"></span>
</footer>

<!-- Enhanced cursor elements -->
<div class="dot-cursor" aria-hidden="true"></div>
<div class="trailing-dot" aria-hidden="true"></div>

      
<!-- Enhanced JavaScript with modules -->
<script type="module">
// Custom Cursor Module
class CustomCursor {
  constructor() {
    this.isSupported = window.matchMedia('(hover: hover) and (pointer: fine)').matches;
    if (this.isSupported) {
      this.init();
    }
  }

  init() {
    this.dot = document.querySelector('.dot-cursor');
    this.trail = document.querySelector('.trailing-dot');
    this.mouseX = window.innerWidth / 2;
    this.mouseY = window.innerHeight / 2;
    this.trailX = this.mouseX;
    this.trailY = this.mouseY;

    this.setupEventListeners();
    this.animate();
  }

  setupEventListeners() {
    document.addEventListener('mousemove', (e) => {
      this.mouseX = e.clientX;
      this.mouseY = e.clientY;
      if (this.dot) {
        this.dot.style.left = this.mouseX + 'px';
        this.dot.style.top = this.mouseY + 'px';
      }
    });

    // Hide cursor when leaving viewport
    document.addEventListener('mouseleave', () => {
      if (this.dot) this.dot.style.opacity = '0';
      if (this.trail) this.trail.style.opacity = '0';
    });

    document.addEventListener('mouseenter', () => {
      if (this.dot) this.dot.style.opacity = '1';
      if (this.trail) this.trail.style.opacity = '0.7';
    });
  }

  animate() {
    this.trailX += (this.mouseX - this.trailX) * 0.15;
    this.trailY += (this.mouseY - this.trailY) * 0.15;
    
    if (this.trail) {
      this.trail.style.left = this.trailX + 'px';
      this.trail.style.top = this.trailY + 'px';
    }
    
    requestAnimationFrame(() => this.animate());
  }
}

// Scroll Animations Module
class ScrollAnimations {
  constructor() {
    this.reveals = document.querySelectorAll('.reveal');
    this.observer = null;
    this.init();
  }

  init() {
    // Use Intersection Observer for better performance
    const observerOptions = {
      threshold: 0.15,
      rootMargin: '0px 0px -50px 0px'
    };

    this.observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          this.observer.unobserve(entry.target); // Stop observing once revealed
        }
      });
    }, observerOptions);

    this.reveals.forEach(element => {
      this.observer.observe(element);
    });
  }
}

// Enhanced Contact Form Module
class ContactForm {
  constructor() {
    this.form = document.getElementById('contactForm');
    this.status = document.getElementById('formStatus');
    this.isSubmitting = false;
    this.init();
  }

  init() {
    if (!this.form) return;
    
    this.loadEmailJS();
    this.setupEventListeners();
  }

  async loadEmailJS() {
    try {
      if (!window.emailjs) {
        await this.loadScript('https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js');
        emailjs.init('HNfQEsAopw8TGCkop');
      }
    } catch (error) {
      console.error('Failed to load EmailJS:', error);
    }
  }

  loadScript(src) {
    return new Promise((resolve, reject) => {
      const script = document.createElement('script');
      script.src = src;
      script.onload = resolve;
      script.onerror = reject;
      document.body.appendChild(script);
    });
  }

  setupEventListeners() {
    this.form.addEventListener('submit', (e) => this.handleSubmit(e));
    
    // Real-time validation
    const inputs = this.form.querySelectorAll('input, textarea');
    inputs.forEach(input => {
      input.addEventListener('blur', () => this.validateField(input));
      input.addEventListener('input', () => this.clearFieldError(input));
    });
  }

  validateField(field) {
    const errorElement = document.getElementById(`${field.id}-error`);
    if (!errorElement) return;

    let errorMessage = '';

    if (field.hasAttribute('required') && !field.value.trim()) {
      errorMessage = `${field.labels[0].textContent.replace('*', '').trim()} is required`;
    } else if (field.type === 'email' && field.value && !this.isValidEmail(field.value)) {
      errorMessage = 'Please enter a valid email address';
    }

    if (errorMessage) {
      errorElement.textContent = errorMessage;
      errorElement.style.display = 'block';
      field.setAttribute('aria-invalid', 'true');
      return false;
    } else {
      errorElement.textContent = '';
      errorElement.style.display = 'none';
      field.removeAttribute('aria-invalid');
      return true;
    }
  }

  clearFieldError(field) {
    const errorElement = document.getElementById(`${field.id}-error`);
    if (errorElement) {
      errorElement.textContent = '';
      errorElement.style.display = 'none';
    }
    field.removeAttribute('aria-invalid');
  }

  isValidEmail(email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  }

  async handleSubmit(event) {
    event.preventDefault();
    
    if (this.isSubmitting) return;
    
    // Validate all fields
    const fields = this.form.querySelectorAll('input[required], textarea[required]');
    let isValid = true;
    
    fields.forEach(field => {
      if (!this.validateField(field)) {
        isValid = false;
      }
    });

    if (!isValid) {
      this.showStatus('Please fix the errors above.', 'error');
      return;
    }

    this.isSubmitting = true;
    this.showStatus('Sending message...', 'loading');

    try {
      if (window.emailjs) {
        await emailjs.sendForm('service_c8d9vna', 'template_b66ttzh', this.form);
        this.showStatus('Message sent! Thank you for reaching out.', 'success');
        this.form.reset();
        
        // Analytics tracking
        if (window.gtag) {
          gtag('event', 'contact_form_submit', {
            event_category: 'engagement',
            event_label: 'success'
          });
        }
      } else {
        throw new Error('EmailJS not available');
      }
    } catch (error) {
      console.error('Email error:', error);
      this.showStatus('Oops! Something went wrong. Please try again later.', 'error');
      
      if (window.gtag) {
        gtag('event', 'contact_form_error', {
          event_category: 'error',
          event_label: error.message || 'unknown'
        });
      }
    } finally {
      this.isSubmitting = false;
    }
  }

  showStatus(message, type) {
    if (!this.status) return;
    
    this.status.textContent = message;
    this.status.className = `form-status ${type}`;
    
    // Auto-clear success messages
    if (type === 'success') {
      setTimeout(() => {
        this.status.textContent = '';
        this.status.className = '';
      }, 5000);
    }
  }
}

// GitHub Integration Module
class GitHubIntegration {
  constructor() {
    this.lastUpdatedElement = document.getElementById('lastUpdated');
    this.init();
  }

  async init() {
    if (!this.lastUpdatedElement) return;
    
    try {
      const response = await fetch('https://api.github.com/repos/roccogold/my-website/actions/runs?per_page=1');
      if (!response.ok) throw new Error('GitHub API request failed');
      
      const data = await response.json();
      if (data.workflow_runs && data.workflow_runs.length > 0) {
        this.displayLastUpdated(data.workflow_runs[0]);
      } else {
        this.displayFallback();
      }
    } catch (error) {
      console.warn('GitHub API error:', error);
      this.displayFallback();
    }
  }

  displayLastUpdated(run) {
    const updatedDate = new Date(run.updated_at);
    const day = String(updatedDate.getDate()).padStart(2, '0');
    const month = String(updatedDate.getMonth() + 1).padStart(2, '0');
    const year = updatedDate.getFullYear();
    const hours = String(updatedDate.getHours()).padStart(2, '0');
    const minutes = String(updatedDate.getMinutes()).padStart(2, '0');
    const username = run.actor?.login || "unknown";
    
    this.lastUpdatedElement.textContent =
      `© Updated on ${day}-${month}-${year} ${hours}:${minutes} by ${username} — work in progress, just like me.`;
  }

  displayFallback() {
    this.lastUpdatedElement.textContent = "© Site updated recently — work in progress.";
  }
}

// Core Web Vitals monitoring
class PerformanceMonitor {
  constructor() {
    this.init();
  }

  async init() {
    try {
      const script = document.createElement('script');
      script.src = 'https://cdn.jsdelivr.net/npm/web-vitals@3/dist/web-vitals.umd.js';
      script.onload = () => {
        if (window.webVitals) {
          const { getCLS, getFID, getFCP, getLCP, getTTFB } = window.webVitals;
          getCLS(this.sendToAnalytics);
          getFID(this.sendToAnalytics);
          getFCP(this.sendToAnalytics);
          getLCP(this.sendToAnalytics);
          getTTFB(this.sendToAnalytics);
        }
      };
      document.head.appendChild(script);
    } catch (error) {
      console.warn('Web Vitals monitoring failed:', error);
    }
  }

  sendToAnalytics(metric) {
    if (window.gtag) {
      gtag('event', metric.name, {
        event_category: 'Web Vitals',
        value: Math.round(metric.name === 'CLS' ? metric.value * 1000 : metric.value),
        event_label: metric.id,
        non_interaction: true,
      });
    }
  }
}

// Enhanced Website Class
class EnhancedWebsite {
  constructor() {
    this.initThemeToggle();
    this.initScrollProgress();
    this.initBackToTop();
    this.initTypingEffect();
  }

  initThemeToggle() {
    const toggle = document.querySelector('.theme-toggle');
    let savedTheme = localStorage.getItem('rocco-theme') || 'dark';
    
    // Force dark mode on mobile devices
    const isMobile = window.matchMedia('(max-width: 768px)').matches;
    if (isMobile) {
      savedTheme = 'dark';
      localStorage.setItem('rocco-theme', 'dark');
      document.body.classList.remove('light-theme');
    }
    
    if (savedTheme === 'light' && !isMobile) {
      document.body.classList.add('light-theme');
      toggle.innerHTML = '<i class="far fa-lightbulb"></i>';
    }

    toggle.addEventListener('click', () => {
      // Disable transitions temporarily on mobile
      const isMobile = window.matchMedia('(hover: none)').matches;
      if (isMobile) {
        document.body.style.transition = 'none';
        document.documentElement.style.transition = 'none';
      }
      
      document.body.classList.toggle('light-theme');
      const isLight = document.body.classList.contains('light-theme');
      
      toggle.innerHTML = isLight ? '<i class="far fa-lightbulb"></i>' : '<i class="fas fa-lightbulb"></i>';
      localStorage.setItem('rocco-theme', isLight ? 'light' : 'dark');
      
      // Update theme color meta tag immediately
      const themeColor = document.querySelector('meta[name="theme-color"]');
      if (themeColor) {
        themeColor.content = isLight ? '#ffffff' : '#111111';
      }

      // Re-enable transitions after a short delay
      if (isMobile) {
        setTimeout(() => {
          document.body.style.transition = '';
          document.documentElement.style.transition = '';
        }, 50);
      }
    });
  }

  initScrollProgress() {
    const progressBar = document.querySelector('.scroll-progress');
    
    window.addEventListener('scroll', () => {
      const scrolled = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
      progressBar.style.width = Math.min(scrolled, 100) + '%';
    });
  }

  initBackToTop() {
    const backToTop = document.querySelector('.back-to-top');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 300) {
        backToTop.classList.add('visible');
      } else {
        backToTop.classList.remove('visible');
      }
    });

    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  initTypingEffect() {
    const subtitle = document.querySelector('.typing-effect');
    if (subtitle) {
      setTimeout(() => {
        subtitle.classList.remove('typing-effect');
      }, 4000);
    }
  }
}

// Animated Background Module
// Gradient Background Module
class GradientBackground {
  constructor() {
    this.createParticleSystem();
    this.initMouseTracking();
  }

  createParticleSystem() {
    const particlesContainer = document.getElementById('particles-container');
    if (!particlesContainer) return;
    
    const particleCount = window.innerWidth > 768 ? 100 : 60;
    
    for (let i = 0; i < particleCount; i++) {
      this.createParticle(particlesContainer);
    }
  }

  createParticle(container) {
    const particle = document.createElement('div');
    particle.className = 'particle';
    
    const size = Math.random() * 5 + 2.5;
    particle.style.width = `${size}px`;
    particle.style.height = `${size}px`;
    
    this.resetParticle(particle);
    container.appendChild(particle);
    this.animateParticle(particle);
  }

  resetParticle(particle) {
    const posX = Math.random() * 100;
    const posY = Math.random() * 100;
    
    particle.style.left = `${posX}%`;
    particle.style.top = `${posY}%`;
    particle.style.opacity = '0';
    
    return { x: posX, y: posY };
  }

  animateParticle(particle) {
    const pos = this.resetParticle(particle);
    const duration = Math.random() * 12 + 8;
    const delay = Math.random() * 3;
    
    setTimeout(() => {
      particle.style.transition = `all ${duration}s linear`;
      particle.style.opacity = Math.random() * 0.6 + 0.3;
      
      const moveX = pos.x + (Math.random() * 50 - 25);
      const moveY = pos.y - Math.random() * 50;
      
      particle.style.left = `${moveX}%`;
      particle.style.top = `${moveY}%`;
      
      setTimeout(() => this.animateParticle(particle), duration * 1000);
    }, delay * 1000);
  }

  initMouseTracking() {
    document.addEventListener('mousemove', (e) => {
      const spheres = document.querySelectorAll('.gradient-sphere');
      const moveX = (e.clientX / window.innerWidth - 0.5) * 10;
      const moveY = (e.clientY / window.innerHeight - 0.5) * 10;
      
      spheres.forEach((sphere, index) => {
        const multiplier = (index + 1) * 0.3;
        sphere.style.transform = `translate(${moveX * multiplier}px, ${moveY * multiplier}px)`;
      });
    });
  }
}
      
// Initialize all modules when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  // Initialize core functionality
  new CustomCursor();
  new ScrollAnimations();
  new ContactForm();
  new GitHubIntegration();
  new PerformanceMonitor();
  new EnhancedWebsite();
  new GradientBackground(); // Add this line

  // Resume download tracking
  const resumeLink = document.getElementById('resumeDownload');
  resumeLink?.addEventListener('click', () => {
    if (window.gtag) {
      gtag('event', 'resume_download', {
        event_category: 'engagement',
        event_label: 'Resume PDF Download'
      });
    }
  });
});

// Register service worker for PWA functionality
if ('serviceWorker' in navigator) {
  window.addEventListener('load', async () => {
    try {
      const registration = await navigator.serviceWorker.register('/sw.js');
      console.log('ServiceWorker registered successfully');
      
      // Check for updates
      registration.addEventListener('updatefound', () => {
        console.log('New service worker available');
      });
    } catch (error) {
      console.log('ServiceWorker registration failed:', error);
    }
  });
}

// Listen for cache update messages from service worker
if ('serviceWorker' in navigator && navigator.serviceWorker.controller) {
  navigator.serviceWorker.addEventListener('message', event => {
    if (event.data.type === 'CACHE_UPDATED') {
      // Optionally refresh the page to get fresh theme code
      console.log('Cache updated, fresh content available');
      // Uncomment the next line if you want automatic refresh on cache updates
      // window.location.reload();
    }
  });
}
</script>
</body>
</html>
